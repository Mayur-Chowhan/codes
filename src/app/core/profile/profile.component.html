
<div class="compHeader">
  <label>Your Profile</label>

</div>
<div class="employee-details">
   <div class="card-comp ">
   <form [formGroup]="editForm" >
    <app-card class="card-component">
      <div image class="dp-Det">{{ employeeData?.name|titlecase|slice:0:1}}</div>
         <h3 name class="name flex">
         <label *ngIf="!isEdit" >{{ employeeData?.name | titlecase }}</label>
         <div *ngIf="isEdit" class="inp flex">
            <input type="text"   class=" form-control col-12"formControlName="name" required>
            <div class="text-danger" *ngIf="editForm?.controls?.name?.touched && editForm?.controls?.name?.errors">
              <small >*Name should be minimum 3 characters</small>
            </div>
        </div>
    </h3>
     <small line_1 >{{ employeeData?.email }}</small>
       <div line_2 >
          <small  *ngIf="!isEdit">{{employeeData?.phone_number }}</small>
            <div *ngIf="isEdit" class="inp flex">
            <input type="text"   class=" form-control col-12"formControlName="phoneNo" required>
            <div class="text-danger" *ngIf="editForm?.controls?.phoneNo?.touched && editForm?.controls?.phoneNo?.errors">
              <small >*minimum 10 digits required</small>          
            </div>
             <small *ngIf="hasError" class="text-danger">{{Response1}}</small>
          </div>
        </div>

      <span clickButton class="material-symbols-outlined edit " *ngIf="hasEditSymbol" (click)="editEmployee()">edit</span>    
      <span clickButton class="material-symbols-outlined save " [disabled]="editForm.invalid && !!hasError" *ngIf="isSave" (click)="saveEmployee()">check</span>
      <span clickButton class="material-symbols-outlined edit " [disabled]="editForm.invalid" *ngIf="isSave" (click)="cancelChanges()">close</span>
      <div marginPurpose class="marginPurpose"></div>
      
      <span empId class="singleLine"[ngStyle]="{'margin-left':'16%' ,'width':'20%'}" >{{ employeeData?.emp_id }}</span>
      <span designation class="singleLine">{{ employeeData?.designation |titlecase}}</span>
      <span role class="singleLine">{{role}}</span> 
      <div deviceSymbols  class="devices flex">
       <div *ngFor="let device of employeeData?.devices">
      <span style="display:flex" *ngIf="device?.device_type === 'Laptop'|| device?.device_type ==='laptop'" class="material-symbols-outlined deviceIcon">laptop_mac</span>
      <span style="display:flex" *ngIf="device?.device_type === 'Charger'|| device?.device_type ==='charger'" class="material-symbols-outlined deviceIcon">ev_charger</span>
      <span style="display:flex" *ngIf="device?.device_type === 'Bag'|| device?.device_type ==='bag'" class="material-symbols-outlined deviceIcon">backpack</span>
      <span style="display:flex" *ngIf="device?.device_type === 'Mobile'|| device?.device_type ==='mobile'" class="material-symbols-outlined deviceIcon">phone_iphone</span>
      <span style="display:flex" *ngIf="device?.device_type === 'Mouse'|| device?.device_type ==='mouse'" class="material-symbols-outlined deviceIcon">mouse</span>
      </div> 
      </div>
     </app-card>
   </form>
  </div>
  <!-- ..........Devices Assigned.....  -->
  <h4 *ngIf="!noDevicesAssigned" class="heading">Devices Assigned</h4>
  <h4 *ngIf="noDevicesAssigned"  class="heading noDevices"> No devices assigned</h4>
   <div  class="deviceHolder">
  <div class="card-comp" [ngStyle]="{'overflow-y':'scroll','padding-bottom':'2px'}">
    <app-card *ngFor="let device of employeeData?.devices">
      <div image> <img src={{device?.image_url}} /></div>
      <h3 name>{{device?.name | titlecase}}</h3>
      <label device class="deviceLabel">{{device?.device_type |titlecase}}</label>
      <label line_2>{{device?.os |titlecase}}</label>
      <label line_1>{{device?.device_no}}</label>
    </app-card>
  </div>
</div>
 </div>
<router-outlet></router-outlet>
